# Critical Report (Actual)

## Краткий итог
Проект стабилен по сборке (`vite build` и `tsc --noEmit` проходят), но есть приоритетные несоответствия между кодом и документацией, а также техдолг, который повышает риск регрессий и усложняет поддержку.

## P0 - Исправить в первую очередь

1. Несоответствие README и Docker Compose по порту
- В `README.md` для Docker указан `http://localhost:3000`, но фактически `docker-compose.yml` публикует `3001:3000`.
- Риск: ложные инструкции для запуска, лишние баг-репорты "не открывается".
- Что сделать:
  - Либо обновить README на `http://localhost:3001`,
  - Либо вернуть проброс `3000:3000` в compose (если это ожидаемое поведение).

2. Актуализировать `context.md`
- В `context.md` зафиксировано, что добавлен `React.lazy + Suspense`, но в текущем коде этого нет.
- Риск: неверное представление о перформанс-оптимизациях, ошибки в дальнейших решениях.
- Что сделать:
  - Либо реально внедрить route/component lazy-loading,
  - Либо убрать/исправить этот пункт в журнале.

## P1 - Высокий приоритет

1. Удалить или интегрировать мертвый код
- Есть неиспользуемые компоненты: `Team.tsx`, `SafetySections.tsx`, а также связанные `BackgroundImage.tsx`/`evtolMedia.ts`.
- Риск: расхождение версий UI, рост когнитивной нагрузки, случайное использование устаревшей логики.
- Что сделать:
  - Принять решение: удалить полностью или вернуть в прод-маршруты.
  - После решения почистить импорты и ассеты.

2. Починить проблемы кодировки в контентных файлах
- `Technical Specification.md` (и часть старых строк) отображаются как mojibake.
- Риск: потеря требований и неоднозначность для команды.
- Что сделать:
  - Привести файл к UTF-8 (без BOM/с BOM - единый стандарт по проекту),
  - Перепроверить отображение русского текста в редакторе и git diff.

3. Унифицировать SPA-навигацию
- В проекте смешаны `Link` и обычные `<a href="/main#...">`.
- Риск: лишние полные перезагрузки, потеря состояния и дёрганый UX.
- Что сделать:
  - Для внутренних переходов использовать единый подход через роутер + hash-scroll helper.
  - Явно оставить обычные `<a>` только для внешних URL и `mailto:`.

## P2 - Средний приоритет (качество и поддерживаемость)

1. Ввести базовый quality-gate
- Сейчас нет `lint`/`test`-скриптов в `package.json`.
- Риск: ошибки стиля/логики проходят незамеченными.
- Что сделать:
  - Добавить ESLint + `npm run lint`,
  - Добавить минимум smoke/test-check (если без юнитов, то хотя бы CI-команды сборки+линта+тайпчека).

2. Усилить TypeScript-конфигурацию
- `tsconfig.json` не в strict-режиме, `allowJs: true`.
- Риск: типовые дефекты не ловятся на раннем этапе.
- Что сделать:
  - Пошагово включить `strict`,
  - Пересмотреть необходимость `allowJs`,
  - Включать флаги постепенно с фиксом ошибок по модулям.

## Рекомендуемый порядок работ

1. Синхронизировать README/compose по порту.
2. Обновить `context.md` под факт (или внедрить lazy-loading и зафиксировать).
3. Решить судьбу мертвых компонентов и почистить кодовую базу.
4. Исправить кодировку `Technical Specification.md`.
5. Привести внутреннюю навигацию к единому SPA-подходу.
6. Добавить lint/check-команды и усилить TS-настройки.

## Критерии завершения

- Документация соответствует фактическому запуску и коду.
- В репозитории нет неиспользуемых крупных компонентов без причины.
- Контентные документы читаемы в UTF-8.
- Внутренняя навигация не вызывает full reload.
- Есть минимальный quality-gate: lint + typecheck + build.
